<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Clunnect â€“ Calendar</title>

<style>
  :root {
    --utd-green:#0e4a3f;
    --utd-orange:#FF8200;
    --muted:#f3f3f3;
    --border:#d0d0d0;
    --text:#222;
    --blue:#2f80ff;
    --purple:#7a42ff;
  }

  *{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;}
  body{margin:0;background:#ededed;display:flex;justify-content:center;}
  .app{width:1200px;background:#fff;min-height:100vh;box-shadow:0 2px 8px rgba(0,0,0,.06);}
  .page{display:block;padding-bottom:40px;}

  .topbar{
    background:var(--utd-green);
    color:#fff;
    height:58px;
    display:flex;
    align-items:center;
    padding:0 18px;
    position:relative;
  }
  .brand{font-weight:700;font-size:22px;}
  .title{
    position:absolute;left:0;right:0;text-align:center;
    color:var(--utd-orange);font-weight:700;letter-spacing:.3px;
  }

  .homeicon{
    position:absolute;right:16px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;
  }
  .homeicon svg{width:24px;height:24px;stroke:#111;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}

  .content{padding:34px 56px;}

  
  .calendar-container{max-width:900px;margin:0 auto;}
  .cal-top{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:16px;
    margin:10px 0;
    font-weight:700;
    font-size:20px;
    color:#0e4a3f;
  }
  .arrow{
    cursor:pointer;
    user-select:none;
    font-size:28px;
    padding:0 14px;
    color:#0e4a3f;
  }

  .weekday-row{display:grid;grid-template-columns:repeat(7,1fr);margin-top:14px;text-align:center;font-weight:700;color:#444;}
  .weekday{padding:6px 0;border-bottom:1px solid #cfcfcf;}

  .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-top:10px;}
  .day{
    height:78px;border:1px solid #cfcfcf;border-radius:6px;background:#fff;display:flex;flex-direction:column;
    justify-content:flex-start;padding:6px 8px;font-size:12px;color:#333;
  }
  .day-number{font-weight:700;margin-bottom:4px;}
  .event-dot{
    margin-top:4px;
    width:8px;height:8px;
    background:var(--utd-orange);
    border-radius:50%;
  }

  .day.empty{background:transparent;border:none;}

  
  .event-list{max-width:900px;margin:20px auto;}
  .event-card{
    background:#fff;border:1px solid #cfcfcf;border-radius:6px;padding:14px;margin-bottom:12px;
    box-shadow:0 1px 2px rgba(0,0,0,.08);
  }
  .event-card h3{margin:0 0 6px;color:#0e4a3f;}
  .event-card p{margin:4px 0;font-size:14px;color:#444;}
</style>
</head>

<body>
<div class="app">
  <section class="page">
    <div class="topbar">
      <div class="brand">Clunnect</div>
      <div class="title">Calendar</div>

      <a class="homeicon" href="/homepage">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 10.5L12 3l9 7.5"></path>
          <path d="M5 9.5v11h5v-6h4v6h5v-11"></path>
        </svg>
      </a>
    </div>

    <div class="content">

      <div class="calendar-container">

        
        <div class="cal-top">
          <span class="arrow" onclick="changeMonth(-1)">&lt;</span>
          <span>{{ month_name }} {{ year }}</span>
          <span class="arrow" onclick="changeMonth(1)">&gt;</span>
        </div>

        
        <div class="weekday-row">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>

        
        <div class="cal-grid">
          {% for cell in calendar %}
            {% if cell.empty %}
              <div class="day empty"></div>
            {% else %}
              <div class="day">
                <div class="day-number">{{ cell.day }}</div>

                {% if cell.has_event %}
                  <div class="event-dot"></div>
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      
      <div class="event-list">
        <h2>Upcoming Events</h2>

        {% if events %}
          {% for event in events %}
            <div class="event-card">
              <h3>{{ event.name }}</h3>
              <p><strong>Date:</strong> {{ event.date }}</p>
              <p><strong>Time:</strong> {{ event.time }}</p>
              <p><strong>Club ID:</strong> {{ event.club_id }}</p>
            </div>
          {% endfor %}
        {% else %}
          <p>No events found.</p>
        {% endif %}
      </div>

    </div>
  </section>
</div>


<script>
function changeMonth(delta) {
    var month = parseInt("{{ month }}");
    var year = parseInt("{{ year }}");
    var newMonth = month + delta;
    var newYear = year;

    if (newMonth < 1) {
        newMonth = 12;
        newYear -= 1;
    } else if (newMonth > 12) {
        newMonth = 1;
        newYear += 1;
    }

    
    window.location.href = "/calendar?month=" + newMonth + "&year=" + newYear;
}
</script>

</body>
</html>
